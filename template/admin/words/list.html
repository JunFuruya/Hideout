{% extends "template/layout/base.html" %}
{% block navi %}
  {% include 'template/layout/navi.html' %}
{% endblock %}

{% block content %}
    <article>
      <h2>{{ entity.get_title() }}</h2>
      <h3>{{ entity.get_description() }}</h3>
      
      <table>
        <form method="GET" name="languages" />
          <a href="/admin">TOPへ</a>
          <a onclick="JavaScript:setAction('languages', '/admin/languages/'+$('#language_id').prop('selectedIndex')+'/words/create');">新規登録</a>
          <select id="language_id" name="language_id">
            <option value="">選択してください</option>
            {% for language_entity in entity.get_language_entity_list() %}
            <option value="{{ language_entity.get_language_id() }}"{% if entity.get_language_id() == language_entity.get_language_id() %} selected{% endif %} >{{ language_entity.get_language_name() }}</option>
            {% endfor %}{{ entity.get_language_id() }}
            <input type="button" value="検索" onclick="JavaScript:document.languages.action='/admin/languages/'+document.languages.language_id[document.languages.language_id.selecedId]+'/words';document.languages.submit();"/>
          </select>
        </form>
        <thead></thead>
        <tbody>
          {% for word_entity in entity.get_word_entity_list() %}
          <tr>
            <td>{{ word_entity.get_word_id() }}</td>
            <td>{{ word_entity.get_word_spell() }}</td>
            <td>
              <form action="/admin/words/{{ word_entity.get_word_id() }}" method="GET">
                <input type="hidden" name="language_id" value="{{ entity.get_language_id() }}"/>
                <input type="hidden" name="word_id" value="{{ word_entity.get_word_id() }}"/>
                <input type="hidden" name="word_spell" value="{{ word_entity.get_word_spell() }}"/>
                <input type="submit" value="詳細へ" />
                <input type="button" value="削除" onclick="JavaScript:if(confirm('削除してもよろしいですか。')){document.forms[0].action='/admin/words/delete';document.forms[0].method='POST';document.forms[0].submit();}" />
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </article>
{% endblock %}
